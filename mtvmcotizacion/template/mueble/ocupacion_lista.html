{% extends 'inicio/base_lista.html' %}

{% block link_navegacion %}

<li class="linknav"><a href="{% url 'umuebles:lista_mueble' %}" style="color:#777;">Muebles</a></li>
<li class="linknav"><a href="{% url 'umuebles:lista_forma_mueble' %}" style="color:#777;">Formas</a></li>
<li class="linknav"><a href="{% url 'umuebles:lista_tamano' %}" style="color:#777;">Tamaños</a></li>
<li class="linknav"><a href="{% url 'umuebles:lista_densidad' %}" style="color:#777;">Densidad</a></li>
<li class="linknav"><a href="{% url 'umuebles:buscar_mueble_ambiente' 0 %}" style="color:#777;">Muebles por ambientes</a></li>
<li class="linknav"><a href="{% url 'umuebles:buscar_tamano_mueble' 0 %}" style="color:#777;">Tamaños de muebles</a></li>
<li class="linknav"><a href="{% url 'umuebles:lista_tipo_mueble' %}" style="color:#777;">Tipo de muebles</a></li>

{% endblock link_navegacion %}

{% block footerLink %}

<li><a href="{% url 'umuebles:lista_mueble' %}" style="color:#777;">Muebles</a></li>
<li><a href="{% url 'umuebles:lista_forma_mueble' %}" style="color:#777;">Formas</a></li>
<li><a href="{% url 'umuebles:lista_tamano' %}" style="color:#777;">Tamaños</a></li>
<li><a href="{% url 'umuebles:lista_densidad' %}" style="color:#777;">Densidad</a></li>
<li><a href="{% url 'umuebles:buscar_mueble_ambiente' 0 %}" style="color:#777;">Muebles por ambientes</a></li>
<li><a href="{% url 'umuebles:buscar_tamano_mueble' 0 %}" style="color:#777;">Tamaños de muebles</a></li>
<li><a href="{% url 'umuebles:lista_tipo_mueble' %}" style="color:#777;">Tipo de muebles</a></li>

{% endblock footerLink %}

{% block titulo %}

<title>Niveles de ocupación</title>

{% endblock titulo %}

{% block titulo_modal %}

Eliminar nivel de ocupación

{% endblock titulo_modal %}

{% block validacion_modal %}

<p>¿Realmente desea eliminar el registro: <strong id="modal_name"></strong>?</p>

{% endblock validacion_modal %}

<!-- NOTA: El uso del bloque link_base vacío se usa para eliminar el acceso
a la opción: Nuevo de los niveles de ocupación que lo construye
la base_lista.html -->
{% block link_base %}{% endblock link_base %}

{% block titulo_tabla %}

<div class="btn-procesos">
</div>
<h2>Niveles de ocupación</h2>

{% endblock titulo_tabla %}

{% if lista_ocupacion %}

{% block cantidad_tabla %}

<h6>Cantidad de niveles de ocupación encontrados:
  <span class="badge" id="count_reg">
    {{ lista_ocupacion.count }}
  </span>
</h6>

{% endblock cantidad_tabla %}

{% block pagination %}

{% if ocupaciones.has_previous %}

<li>
  <a href="?page={{ ocupaciones.previous_page_number }}" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
</li>

{% endif %}

<li class="current">
  <a style="color:#000;"> Página

    {{ ocupaciones.number }}

    de

    {{ ocupaciones.paginator.num_pages }}

    Desde la ocupación

    {{ ocupaciones.start_index }}

    hasta la ocupación

    {{ ocupaciones.end_index }}

  </a>
</li>

{% if ocupaciones.has_next %}

<li>
  <a href="?page={{ ocupaciones.next_page_number }}" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
</li>

{% endif %}

{% endblock pagination %}

{% block cuerpo_tabla %}

<tr class="active">
  <th>Nivel de ocupación</th>
  <th>Valor</th>
  <th width="3">Editar</th>
  <th width="3">Eliminar</th>
</tr>

{% for i in ocupaciones %}

<tr id="tr{{i.id}}">
  <td>{{ i.descripcion }}</td>

  {% widthratio i.valor 1 100 as val %}

  <td>{{ val|floatformat:"2" }}% </td>
  <td>
    <a href="{% url 'umuebles:edit_ocupacion' i.id %}?next={{request.get_full_path}}" class="glyphicon glyphicon-edit"></a>
  </td>
  <td>
    <a href="#myModal" role="button" class="glyphicon glyphicon-remove delete" data-target="#myModal" data-toggle="modal" id="{{i.id}}" data-name="{{i.descripcion}}"></a>
  </td>
</tr>

{% endfor %}

{% endblock cuerpo_tabla %}

{% endif %}

{% block ayuda %}

<div class="">
  <p>El <strong>Nivel de ocupación</strong> permite estimar la cantidad de contenido que tiene un <strong>Mueble</strong> de forma que se pueda determinar la cantidad de <strong>Contenedores</strong> que serán necesarios para el traslado del mismo.</p>
  <p>El <strong>Nivel de ocupación</strong> se asume de forma estimada con un nivel de precisión que permite asignar de forma justa la cantidad de <strong>Contenedores</strong> sin perjudicar al cliente por una cantidad excesiva de estos.</p>
  <p>La cantidad de <strong>Contenedores</strong> asignados incide sobre el precio final de la cotización.</p>
  <p>La apropiada identificación de los <strong>Niveles de ocupación</strong> redundará en cotizaciones ágiles y justas.</p>
</div>

{% endblock ayuda %}
